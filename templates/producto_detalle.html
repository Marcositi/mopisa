{% extends "base.html" %}
{% block title %}{{ producto.nombre }}{% endblock %}

{% block content %}
<div class="detalle-container">
    <div class="detalle-card">
       <div class="detalle-imagen">
    {% if producto.imagen %}
        <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}">
    {% else %}
        <img src="https://via.placeholder.com/500x400?text=Imagen+no+disponible" alt="Sin imagen">
    {% endif %}
</div>
        
        <div class="detalle-info">
            <span class="categoria-tag">{{ producto.categoria.nombre }}</span>
            <h1>{{ producto.nombre }}</h1>
            <p class="clave">Clave: <strong>{{ producto.clave }}</strong></p>
            <hr>
            
            <p class="descripcion">{{ producto.descripcion }}</p>
            
            <div class="especificaciones">
                <p><strong>Departamento:</strong> {{ producto.departamento }}</p>
                <p><strong>Marca:</strong> {{ producto.marca }}</p>
                <p><strong>Proveedor:</strong> {{ producto.proveedor }}</p>
                <p><strong>Stock disponible:</strong> {{ producto.stock }} unidades</p>
            </div>

            <div class="precio-seccion">
                <span class="precio">${{ producto.precio }}</span>
            </div>

            <div class="acciones">
                <form action="{% url 'agregar_carrito' producto.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" class="btn-agregar">
                        <i class="fas fa-cart-plus"></i> Agregar al Carrito
                    </button>
                </form>
                <a href="{% url 'productos' %}" class="btn-volver">Volver a productos</a>
            </div>
        </div>
    </div>
</div>

<style>
    .detalle-container { padding: 40px 20px; max-width: 1000px; margin: 0 auto; }
    .detalle-card { 
        display: grid; 
        grid-template-columns: 1fr 1fr; 
        gap: 30px; 
        background: white; 
        padding: 30px; 
        border-radius: 12px; 
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .detalle-imagen img { width: 100%; border-radius: 8px; object-fit: contain; max-height: 400px; }
    .categoria-tag { background: #eee; padding: 4px 10px; border-radius: 20px; font-size: 0.8em; color: #666; }
    .clave { color: #888; font-size: 0.9em; margin-top: 5px; }
    .precio { font-size: 2em; color: #33271b; font-weight: bold; display: block; margin: 20px 0; }
    .descripcion { line-height: 1.6; color: #444; margin: 20px 0; }
    .especificaciones { background: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
    
    .btn-agregar { 
        background: rgb(224, 136, 68); color: white; border: none; 
        padding: 12px 25px; border-radius: 6px; cursor: pointer; 
        font-size: 1.1em; font-weight: bold; width: 100%; transition: 0.3s;
    }
    .btn-agregar:hover { background: #d97c3a; }
    .btn-volver { display: block; text-align: center; margin-top: 15px; color: #666; text-decoration: none; }
    
    @media (max-width: 768px) {
        .detalle-card { grid-template-columns: 1fr; }
    }
</style>
{% endblock %}